# Инструкция по деплою на Vercel

## Шаг 1: Подготовка проекта

Проект уже настроен для деплоя на Vercel. Убедитесь, что:
- ✅ Файл `vercel.json` создан
- ✅ `next.config.ts` настроен правильно
- ✅ Все зависимости указаны в `package.json`

## Шаг 2: Настройка переменных окружения на Vercel

После подключения репозитория к Vercel, добавьте следующие переменные окружения в настройках проекта:

### Обязательные переменные:

1. **GIGACHAT_AUTH_KEY**
   - Значение: ваш ключ авторизации GigaChat (Base64 строка)
   - Получите в личном кабинете: https://developers.sber.ru

2. **GIGACHAT_SCOPE**
   - Значение: `GIGACHAT_API_PERS` (для физлиц) или `GIGACHAT_API_B2B` / `GIGACHAT_API_CORP` (для ИП/юрлиц)
   - По умолчанию: `GIGACHAT_API_PERS`

### Опциональные переменные:

3. **REPLICATE_API_TOKEN**
   - Значение: токен для генерации изображений через Replicate
   - Получите на: https://replicate.com/account/api-tokens

## Шаг 3: Настройка переменных окружения

1. Откройте ваш проект на Vercel
2. Перейдите в **Settings** → **Environment Variables**
3. Добавьте все необходимые переменные для всех окружений (Production, Preview, Development)

## Шаг 4: Деплой

После настройки переменных окружения:
1. Vercel автоматически запустит новый деплой
2. Или нажмите **Deployments** → **Redeploy**

## Возможные проблемы и решения

### Ошибка: "Module not found" или проблемы с зависимостями
- Убедитесь, что все зависимости указаны в `package.json`
- Проверьте, что используется правильная версия Node.js (Vercel автоматически определяет)

### Ошибка: "Environment variable not found"
- Проверьте, что все переменные окружения добавлены в настройках Vercel
- Убедитесь, что переменные добавлены для нужного окружения (Production/Preview/Development)

### Ошибка: "Build failed"
- Проверьте логи билда в Vercel Dashboard
- Убедитесь, что `yarn build` выполняется успешно локально

### Ошибка с GigaChat API
- Проверьте правильность `GIGACHAT_AUTH_KEY`
- Убедитесь, что `GIGACHAT_SCOPE` соответствует вашему типу аккаунта
- Проверьте, что токен не истек

## Проверка деплоя

После успешного деплоя:
1. Откройте URL вашего приложения
2. Проверьте, что главная страница загружается
3. Попробуйте создать презентацию через AI генератор

## Поддержка

Если возникли проблемы:
1. Проверьте логи в Vercel Dashboard → Deployments → [ваш деплой] → Build Logs
2. Проверьте Runtime Logs для ошибок во время выполнения
3. Убедитесь, что все переменные окружения настроены правильно
